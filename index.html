<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>洽客WeUI组件示例</title>
    <!-- Bootstrap -->
    <link href="http://libs.baidu.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet">
    <link href="http://v3.bootcss.com/assets/css/docs.min.css" rel="stylesheet">
    <link href="demos/lib/example.css" rel="stylesheet">

    <!--[if lt IE 9]>
      <script src="//cdn.bootcss.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="//cdn.bootcss.com/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
  </head>
  <body data-spy="scroll" data-target="#scrollNavs">
    <div class="bs-docs-header" id="content" tabindex="-1">
      <div class="container">
        <h1>Weui 插件</h1>
        <p>基于 weui 扩展的交互组件</p>
      </div>
    </div>

    <div class="container bs-docs-container" style="position: relative;">
      <div class="row">
        <div class="col-md-2">
          <nav class="bs-docs-sidebar hidden-print hidden-xs hidden-sm" data-spy="affix" data-offset-top="200" data-offset-bottom="100">
            <ul class="nav bs-docs-sidenav" id="scrollNavs">
              <li class="">
                <a href="#com-weui">WeUI</a>
                <ul class="nav">
                  <li class=""><a href="#com-modal">弹出层</a></li>
                  <li class=""><a href="#com-tab">Tab选项卡</a></li>
                  <li class=""><a href="#com-notification">消息通知</a></li>
                  <li class=""><a href="#com-accordion">折叠面板</a></li>
                  <li class=""><a href="#com-validator">表单验证</a></li>
                </ul>
              </li>
            </ul>
          </nav>
        </div>
        <div class="col-md-5">
            <h1 id="com-weui" class="page-header">WeUI</h1>
            <p>
                WeUI 是一套同微信原生视觉体验一致的基础样式库，由微信官方设计团队为微信 Web 开发量身设计，可以令用户的使用感知更加统一。包含button、cell、dialog、 progress, toast、article、icon等各式元素。<br><br>
                WeUI 本身只包含样式，不包含 javascript 功能。此组件库基于zepto对WeUI做深度定制，以满足简单常用的开发需求。
            </p>
            <div>
                <img src="https://camo.githubusercontent.com/7a59753e1e8fa36ad934a0a1dd22ce6282e2d8a8/687474703a2f2f3737666c7a372e636f6d312e7a302e676c622e636c6f7564646e2e636f6d2f323031362f776575692e706e67" width="400" data-canonical-src="http://77flz7.com1.z0.glb.clouddn.com/2016/weui.png" style="max-width:100%;">
            </div>
            <h2 id="com-modal" class="page-header">弹出层</h2>
            <div>
                <p>弹出层包含组件：<br><code>alert</code>、<code>confirm</code>、<code>prompt</code>、<code>actions</code>、<code>popup</code>、<code>offcanvas</code></p>
                <br>
                <ul>
                    <li>
                    <p>提示框</p>
<pre>
//usage
$.alert('这是一个弹框！','标题', function(){
    $.alert('第二个','标题');
});
</pre>
                    </li>
                    <li><p>确认框</p>
<pre>
//usage
$.confirm('这是一个弹框！','标题', function(){
    $.alert('确认');
}, function(){
    $.alert('取消');
});
</pre>
                    </li>
                    <li><p>输入框</p>
<pre>
//usage
$.prompt('请输入留言信息', function(v){ alert('你输入的是 '+v);});
</pre>
                    </li>
                    <li><p>操作框</p>
<pre>
//usage
var buttons1 = [
    {
      text: '请选择',
      label: true
    },
    {
      text: '卖出',
      bold: true,
      color: 'danger',
      onClick: function() {
        $.alert("你选择了“卖出“");
      }
    },
    {
      text: '买入',
      onClick: function() {
        $.alert("你选择了“买入“");
      }
    }
  ];

var buttons2 = [{
  text: '取消',
  bg: 'danger'
}];

var groups = [buttons1, buttons2];
$.actions(groups);
</pre>

                    </li>
                    <li><p>popup</p>
<pre>
//usage

//DOM
&lt;script type="text/html" id="tpl1"&gt;
&lt;div&gt;
  &lt;a href="javascript:;" class="close-popup weui_dialog_close"&gt;&lt;i class="weui_icon_cancel"&gt;&lt;/i&gt;&lt;/a&gt;
  &lt;article class="weui_article"&gt;
        &lt;h1&gt;大标题&lt;/h1&gt;
        &lt;section&gt;
            &lt;h2 class="title"&gt;章标题&lt;/h2&gt;
            &lt;section&gt;
                &lt;h3&gt;1.1 节标题&lt;/h3&gt;
                &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                    tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                    quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo
                    consequat. Duis aute&lt;/p&gt;
            &lt;/section&gt;
            &lt;section&gt;
                &lt;h3&gt;1.2 节标题&lt;/h3&gt;
                &lt;p&gt;Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed do eiusmod
                    tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam,
                    cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non
                    proident, sunt in culpa qui officia deserunt mollit anim id est laborum.&lt;/p&gt;
            &lt;/section&gt;
        &lt;/section&gt;
    &lt;/article&gt;
    &lt;/div&gt;
&lt;/script&gt;

//JS
$.popup($('#tpl1').html());
</pre>
                    </li>
                    <li><p>loading</p>
<pre>
//usage

//显示页面级loading
$.loading();

//关闭loading
$.loading();
</pre>
                    </li>
                    <li><p>toast-纯文字</p>
<pre>
//usage

$.toast('操作成功')
</pre>
                    </li>
                    <li><p>toast-带图标</p>
<pre>
//usage

$.toast('操作成功', '<i class="weui_icon_toast"></i>');
</pre>

                    </li>
                    <li><p>offcanvas-top</p>
<p>可配置参数：</p>                    
<pre>
    useCss3:true,
    content: '',
    position:position || 'top', //left,right,bottom,top
    contentStyle:null, // {top:'20px',color:'red'}
    onOpenBefore:null,
    onOpenAfter:typeof onOpenedFn == 'function' ? onOpenedFn : null,
    onCloseBefore:null,
    onCloseAfter:null,
</pre>

<pre>
//usage

var con1 = '&lt;div class="weui_offcanvas"&gt;&lt;a href="javascript:;" class="close-offcanvas weui_dialog_close"&gt;&lt;i class="weui_icon_cancel"&gt;&lt;/i&gt;&lt;/a&gt; &lt;p&gt;这里是offcanvas的内容, 从顶部显示！&lt;br&gt;&lt;a class="btn-click" href="javascript:;"&gt;再打开一个左边的&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;';

var con2 = '&lt;div class="weui_offcanvas"&gt;&lt;a href="javascript:;" class="close-offcanvas weui_dialog_close"&gt;&lt;i class="weui_icon_cancel"&gt;&lt;/i&gt;&lt;/a&gt; &lt;p&gt;这里是offcanvas的内容, 从左边显示！ &lt;br&gt;&lt;a class="btn-click" href="javascript:;"&gt;事件点击&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;';

$.offcanvas(con1, '', function($el){
  $el.on('click', '.btn-click',function(){
    $.offcanvas(con2, 'left', function($el){
      $el.on('click', '.btn-click', function(){
        alert('这是第二个 offcanvas 的事件！');
      });
    });
  })
})
</pre>
                    </li>
                    <li><p>offcanvas-bottom</p>
<pre>
//usage

var content = '&lt;div class="weui_offcanvas"&gt;&lt;a href="javascript:;" class="close-offcanvas weui_dialog_close"&gt;&lt;i class="weui_icon_cancel"&gt;&lt;/i&gt;&lt;/a&gt; &lt;p&gt;这里是offcanvas的内容, 从底部显示！ &lt;br&gt;&lt;a class="btn-click" href="javascript:;"&gt;事件点击&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;';
$('#showDialog9').click(function(){
    $.offcanvas(content, 'bottom', function($el){
      $el.on('click', '.btn-click',function(){
        alert('事件2被触发了!');
      })
    })
});
</pre>
                    </li>
                    <li><p>offcanvas-left</p>
<pre>
//usage

var content = '&lt;div class="weui_offcanvas"&gt;&lt;a href="javascript:;" class="close-offcanvas weui_dialog_close"&gt;&lt;i class="weui_icon_cancel"&gt;&lt;/i&gt;&lt;/a&gt; &lt;p&gt;这里是offcanvas的内容, 从左边显示！ &lt;br&gt;&lt;a class="btn-click" href="javascript:;"&gt;事件点击&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;';

$.offcanvas(content, 'left', function($el){
  $el.on('click', '.btn-click',function(){
    alert('事件3被触发了!');
  })
})
</pre>
                    </li>
                    <li><p>offcanvas-right</p>
<pre>
//usage

var content = '&lt;div class="weui_offcanvas"&gt;&lt;a href="javascript:;" class="close-offcanvas weui_dialog_close"&gt;&lt;i class="weui_icon_cancel"&gt;&lt;/i&gt;&lt;/a&gt; &lt;p&gt;这里是offcanvas的内容, 从右边显示！ &lt;br&gt;&lt;a class="btn-click" href="javascript:;"&gt;事件点击&lt;/a&gt;&lt;/p&gt;&lt;/div&gt;';

$.offcanvas(content, 'right', function($el){
  $el.on('click', '.btn-click',function(){
    alert('事件4被触发了!');
  })
})
</pre>
                    </li>
                    <li><p>offcanvas-自定义</p>
<pre>
//usage

var content = '&lt;div class="weui_offcanvas"&gt;&lt;a href="javascript:;" class="close-offcanvas weui_dialog_close"&gt;&lt;i class="weui_icon_cancel"&gt;&lt;/i&gt;&lt;/a&gt; &lt;p style="font-size:12px; color:#888;"&gt;长按识别二维码&lt;/p&gt;&lt;p&gt;&lt;img src="http://7xi480.com1.z0.glb.clouddn.com/wx_store_preview.png" width="140" /&gt;&lt;/p&gt;&lt;/div&gt;';

$.offcanvas({
    content:content,
    contentStyle:{ 
        width:'200px', 
        top: '20%', 
        left: '50%', 
        'margin-left': '-100px', 
        'border-radius': '5px', 
        padding: '20px 0 10px', 
        'text-align': 'center' 
    }
})
</pre>
                    </li>
                </ul>
            </div>

            <h2 id="com-tab" class="page-header">Tab选项卡</h2>
            <p>可配置参数</p>
<pre>
var options = {
    hasBorder: true,
    skinClass: '',
    navId: 'tabNav',
    contentId: 'tabContent',
    navActiveClass: '',
    callback: function(){}
}
</pre>

            <p>使用示例</p>
<pre>
// DOM
&lt;div class="weui_tab"&gt;
    &lt;div id="tabNav" class="weui_navbar"&gt;
        &lt;div class="weui_navbar_item weui_bar_item_on"&gt;
            选项一
        &lt;/div&gt;
        &lt;div class="weui_navbar_item"&gt;
            选项二
        &lt;/div&gt;
        &lt;div class="weui_navbar_item"&gt;
            选项三
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;div id="tabContent" class="weui_tab_bd"&gt;
        &lt;div class="tab_item on"&gt;1&lt;/div&gt;
        &lt;div class="tab_item"&gt;2222&lt;/div&gt;
        &lt;div class="tab_item"&gt;333333&lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;

// JS
$.tab({
    hasBorder: true,
    skinClass: '',
    navId: 'tabNav',
    contentId: 'tabContent'
});
</pre>

            <h2 id="com-notification" class="page-header">消息通知</h2>
            <p>使用场景</p>

            <p>可配置参数</p>
<pre>
msg: '',
wrapCls: 'weui_toptips',
type: 'warn', //warn
duration: '3000',
hasCloseBtn: false,
onOpened: null, // 显示后的回调
onClosed: null  //关闭后的回调
</pre>

            <p>使用示例</p>
<pre>
$.notification('这是一个通知：）');
</pre>


            <h2 id="com-accordion" class="page-header">折叠面板</h2>
            <p>可配置参数</p>
<pre>
itemSlt: '.weui_cell',
itemBodySlt: '.weui_accordion_body',
activeCls: '.active',
showSingle: true,   //是否只显示一个
onShown: null,      //callback: function(this){}
activeIndex: -1,  //默认显示的项 -1不显示
</pre>

            <p>使用示例</p>
            <p>使用data-api初始化</p>
<pre>
// DOM
&lt;div class="weui_cells weui_cells_access" data-ui-accordion id="accordionBox"&gt;
    &lt;a class="weui_cell" href="javascript:;"&gt;
        &lt;div class="weui_cell_bd weui_cell_primary"&gt;
            &lt;p&gt;cell standard&lt;/p&gt;
        &lt;/div&gt;
        &lt;div class="weui_cell_ft"&gt;
        &lt;/div&gt;
    &lt;/a&gt;
    &lt;div class="weui_accordion_body" id="t1"  style="height: 0px;"&gt;
      &lt;div class="weui_accordion_content"&gt;
        &lt;p&gt;
          她坦白了我们所虚伪的 她单纯了我们所复杂的 五年以来… 5年的等待，是个漫长也是耗损的过程。 看尽乐坛芭比娃娃的甜美面具，「性格」这两个字，似乎快要消失！ 她的声音，她的个性，象徵著无可取代的高傲、独特的姿态， 这样一股充满灵魂的音乐、沉寂而刚苏醒的真声音
        &lt;/p&gt;
      &lt;/div&gt;
    &lt;/div&gt;
&lt;/div&gt;
</pre>

            <h2 id="com-validator" class="page-header">表单验证</h2>
<p>可配置参数</p>
<pre>
valid: null, //验证成功的回调
invalid: null, //验证失败的回调
</pre>

            <p>使用示例</p>
使用data-api初始化
<pre>
&lt;div class="weui_cell"&gt;
    &lt;div class="weui_cell_hd"&gt;&lt;label class="weui_label"&gt;手机号&lt;/label&gt;&lt;/div&gt;
    &lt;div class="weui_cell_bd weui_cell_primary"&gt;
        &lt;input class="weui_input" id="t1" name="phone" type="tel" placeholder="输入你现在的手机号" 
        data-rule="required; integer; phone;" 
        data-rule-phone="[/^1[3-9]\d{9}$/,'手机号码格式不正确']"
        data-msg-phone="手机号码不能为空"
        data-msg-require="请输入手机号"&gt;
    &lt;/div&gt;
    &lt;div class="weui_cell_ft"&gt; &lt;i class="weui_icon_warn"&gt;&lt;/i&gt;&lt;/div&gt;
&lt;/div&gt;
</pre>

获取验证结果
<pre>
    $('#form').validator('validate');
</pre>
<p>
    返回<code>true</code>表示验证成功
</p>

        </div>
        <div class="col-md-5" style="position: relative;">
            <div class="example" data-spy="affix" data-offset-top="350">
                <div class="device device-right device-v" id="ifrmWrap">
                <iframe width="320" height="568" scrolling="no" frameborder="0" src="http://weui.github.io/weui/"></iframe>
                </div>
            </div>
        </div>
      </div>
    </div>
    <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
    <script src="http://libs.baidu.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
    <script src="demos/lib/prettify.js"></script>
    <!-- <script src="//cdn.bootcss.com/prettify/r298/prettify.min.js"></script> -->
    <script type="text/javascript">
    $(function(){
        $('pre').addClass('prettyprint');//linenums
        prettyPrint();

        var $ifrmWrap = $('#ifrmWrap');
        $('body').on('activate.bs.scrollspy', function () {
          var $ac = $('#scrollNavs').find('.nav .active a');
          if($ac.length){
            var cUrl = $ifrmWrap.find('iframe').attr('src');
            var url = "demos/"+$ac.attr("href").split('-')[1]+'.html';
            if(cUrl != url){
              console.log(url)
              $ifrmWrap.html("<iframe src='" + url +"' width='320' height='568' frameBorder='0'></iframe>");
            }
          }else{
            $ifrmWrap.html('<iframe src="http://weui.github.io/weui/" width="320" height="568" frameBorder="0"></iframe>');
          }
        })
    });
    </script>
  </body>
</html>